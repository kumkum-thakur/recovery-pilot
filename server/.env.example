# RecoveryPilot Production Environment Configuration
# NEVER commit actual values to version control.
# Use AWS Secrets Manager or K8s External Secrets in production.

# =============================================================
# Server
# =============================================================
NODE_ENV=production
PORT=3000
HOST=0.0.0.0
CLUSTER_WORKERS=0
TRUST_PROXY=1

# =============================================================
# Deployment Region & Compliance
# =============================================================
# Options: ap-south-1 (India), us-east-1 (US), eu-west-2 (UK)
DEPLOYMENT_REGION=ap-south-1
# Options: DPDPA (India), HIPAA (US), UK_GDPR (UK)
COMPLIANCE_REGIME=DPDPA
DATA_RESIDENCY_REGION=ap-south-1

# =============================================================
# PostgreSQL (Primary - Write)
# =============================================================
DB_PRIMARY_HOST=
DB_PRIMARY_PORT=5432
DB_PRIMARY_NAME=recovery_pilot
DB_PRIMARY_USER=rp_app
DB_PRIMARY_PASSWORD=
DB_PRIMARY_SSL=true
DB_PRIMARY_POOL_MIN=20
DB_PRIMARY_POOL_MAX=100
DB_PRIMARY_IDLE_TIMEOUT_MS=30000
DB_PRIMARY_ACQUIRE_TIMEOUT_MS=60000
DB_PRIMARY_STATEMENT_TIMEOUT_MS=30000

# PostgreSQL (Read Replicas - comma separated)
DB_REPLICA_HOSTS=
DB_REPLICA_POOL_MAX=200

# =============================================================
# Redis
# =============================================================
REDIS_PRIMARY_HOST=
REDIS_PRIMARY_PORT=6379
REDIS_PRIMARY_PASSWORD=
REDIS_PRIMARY_TLS=true
REDIS_PRIMARY_DB=0
REDIS_MAX_RETRIES=3
REDIS_KEY_PREFIX=rp:
REDIS_CLUSTER_ENABLED=false
REDIS_CLUSTER_NODES=

# =============================================================
# Authentication (CHANGE ALL IN PRODUCTION)
# =============================================================
JWT_SECRET=
JWT_EXPIRY=15m
JWT_REFRESH_EXPIRY=7d
JWT_ISSUER=recovery-pilot
BCRYPT_ROUNDS=14
MFA_ENABLED=true
SESSION_SECRET=

# =============================================================
# Encryption
# =============================================================
ENCRYPTION_MASTER_KEY=
AWS_KMS_KEY_ARN=
ENCRYPTION_ALGORITHM=aes-256-gcm
FIELD_LEVEL_ENCRYPTION=true

# =============================================================
# Rate Limiting
# =============================================================
RATE_LIMIT_WINDOW_MS=60000
RATE_LIMIT_MAX_REQUESTS=100
RATE_LIMIT_AUTH_MAX=5
RATE_LIMIT_API_MAX=1000
RATE_LIMIT_STORE=redis

# =============================================================
# AWS
# =============================================================
AWS_REGION=ap-south-1
AWS_ACCESS_KEY_ID=
AWS_SECRET_ACCESS_KEY=
S3_BUCKET_MEDICAL_IMAGES=
S3_BUCKET_AUDIT_LOGS=
S3_BUCKET_BACKUPS=
S3_ENCRYPTION=aws:kms

# =============================================================
# Monitoring
# =============================================================
LOG_LEVEL=info
LOG_FORMAT=json
METRICS_ENABLED=true
METRICS_PORT=9090
TRACING_ENABLED=true
OTEL_EXPORTER_OTLP_ENDPOINT=
SENTRY_DSN=

# =============================================================
# External Services
# =============================================================
GEMINI_API_KEY=
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMS_PROVIDER=msg91
SMS_API_KEY=

# =============================================================
# CORS
# =============================================================
CORS_ORIGINS=https://app.recoverypilot.health
CORS_CREDENTIALS=true

# =============================================================
# Audit
# =============================================================
AUDIT_LOG_RETENTION_DAYS=2555
AUDIT_LOG_IMMUTABLE=true
AUDIT_LOG_DESTINATION=both
